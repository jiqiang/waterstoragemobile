<ion-view view-title="Australia">
  <ion-content>
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>
    <div ng-if="!viewisentered" style="text-align:center;margin-top:30px;">
      <ion-spinner></ion-spinner><span style="font-size:11px;margin-left:10px">Loading</span>
    </div>
    <div class="water-top">
      <div class="row">
        <div class="col">
          <i class="icon ion-android-star-outline"></i>
        </div>
        <div class="col col-90">
          <div class="location">AUSTRALIA</div>
          <div class="date">{{summary.today}}</div>
        </div>
      </div>
      <div class="row-separator"></div>
      <div class="row">
        <div class="col col-80">
          <div class="figure-per-label">TOTAL STORAGE CAPACITY (% FULL)</div>
          <div class="figure-per">{{summary.percentage_full_today}}%</div>
        </div>
        <div class="col">
          <div class="year-trend-label">YEAR</div>
          <div class="year-trend"><i class="icon ion-arrow-down-c"></i></div>
        </div>
      </div>
    </div>
    <ion-highcharts data="chartData"></ion-highcharts>
    <div class="water-trend">
      <div class="row">
        <div class="col-33">
          <div class="since">SINCE</div>
          <div class="days-ago">1 DAY AGO</div>
          <div class="day-trend"><i class="icon ion-arrow-down-c"></i></div>
        </div>
        <div class="col-33">
          <div class="since">SINCE</div>
          <div class="days-ago">7 DAYS AGO</div>
          <div class="day-trend"><i class="icon ion-arrow-down-c"></i></div>
        </div>
        <div class="col-33">
          <div class="since">SINCE</div>
          <div class="days-ago">30 DAYS AGO</div>
          <div class="day-trend"><i class="icon ion-arrow-down-c"></i></div>
        </div>
      </div>
      <div class="row">
        <div class="col-33"></div>
        <div class="col">
          <button class="button button-small button-block button-calm details">
            Details
          </button>
        </div>
        <div class="col-33"></div>
      </div>
    </div>
    <div class="list card" ng-if="viewisentered">
      <div class="item nopadding summary-past item-bg">
        <div class="row">
          <div class="col">
            <h2>{{summary.today}}</h2>
          </div>
        </div>
      </div>
      <div class="item nopadding summary-past item-bg">

        <div class="row row-center">
          <div class="col col-67">
            <h6>TOTAL STORAGE CAPACITY (% FULL):</h6>
            <h1 class="assertive highlight-figure" style="margin-top:8px">{{summary.percentage_full_today}}%</h1>
          </div>
          <div class="col col-33">
            <h5>SINCE</h5>
            <h5>1 YEAR AGO</h5>
            <h3 class="assertive highlight-figure">{{summary.percentage_change_since_last_year}}%</h3>
            <h5><span class="highlight-figure">{{summary.volume_change_since_last_year}}</span> ML</h5>
          </div>
        </div>

      </div>
      <div class="item nopadding summary-past item-bg">
        <div class="row row-center">
          <div class="col">
            <h6>LATEST VOLUME (LV):</h6>
          </div>
          <div class="col">
            <h4><span class="highlight-figure">{{summary.today_volume_active_total}}</span> ML</h4>
          </div>
        </div>
      </div>
      <div class="item nopadding summary-past item-bg">
        <div class="row row-center">
          <div class="col">
            <h6>TOTAL CAPACITY (TC):</h6>
          </div>
          <div class="col">
            <h4><span class="highlight-figure">{{summary.today_capacity_active_total}}</span> ML</h4>
          </div>
        </div>
      </div>
      <div class="item nopadding summary-past item-bg">
        <div class="row">
          <div class="col">
            <h6>SINCE</h6>
            <h6>1 DAY AGO</h6>
            <h3 class="assertive highlight-figure">{{summary.percentage_change_since_yesterday}}%</h3>
            <h6><span class="highlight-figure">{{summary.volume_change_since_yesterday}}</span> ML</h6>
          </div>
          <div class="col">
            <h6>SINCE</h6>
            <h6>7 DAYS AGO</h6>
            <h3 class="assertive highlight-figure">{{summary.percentage_change_since_last_week}}%</h3>
            <h6><span class="highlight-figure">{{summary.volume_change_since_last_week}}</span> ML</h6>
          </div>
          <div class="col">
            <h6>SINCE</h6>
            <h6>30 DAYS AGO</h6>
            <h3 class="assertive highlight-figure">{{summary.percentage_change_since_last_month}}%</h3>
            <h6><span class="highlight-figure">{{summary.volume_change_since_last_month}}</span> ML</h6>
          </div>
        </div>
      </div>

    </div>

    <ion-list>
      <div class="item item-icon-right item-divider" ng-init="expandState=false" ng-click="expandState=!expandState">
        STATES
        <i ng-show="expandState" class="icon ion-chevron-up icon-accessory"></i>
        <i ng-show="!expandState" class="icon ion-chevron-down icon-accessory"></i>
      </div>
      <ion-item ng-show="expandState" ion-percentage-bar="{{item.percentage_full_today}}" class="item-remove-animate item-icon-left item-icon-right item-bg" ng-repeat="item in data.states" type="item-text-wrap" href="#/tab/storages/states/storages/{{$index}}/-1">
        <i class="icon ion-chevron-right icon-accessory"></i>
        <h4>
          {{item.title | stateAbbr}}<span style="float:right" class="assertive highlight-figure">{{item.percentage_full_today}}%</span>
        </h4>
        <h6 class="">
          TC: <span class="highlight-figure">{{item.today_capacity_active_total}}</span> ML<span style="float:right">LV: <span class="highlight-figure">{{item.today_volume_active_total}}</span> ML</span>
        </h6>
        <i class="icon ion-chevron-right icon-accessory"></i>
        <ion-option-button ng-click="addFavourite('states', $index, null, null, null)">
          <i class="icon ion-{{platform}}-star"></i>
        </ion-option-button>
      </ion-item>

      <div class="item item-icon-right item-divider" ng-init="expandCC=false" ng-click="expandCC=!expandCC">
        CAPITAL CITIES
        <i ng-show="expandCC" class="icon ion-chevron-up icon-accessory"></i>
        <i ng-show="!expandCC" class="icon ion-chevron-down icon-accessory"></i>
      </div>
      <ion-item ng-show="expandCC" ion-percentage-bar="{{item.percentage_full_today}}" class="item-remove-animate item-icon-right item-bg" ng-repeat="item in data.cities" type="item-text-wrap" href="#/tab/storages/cities/storages/{{$index}}/-1">
        <h4>
          {{item.title}}<span style="float:right" class="assertive highlight-figure">{{item.percentage_full_today}}%</span>
        </h4>
        <h6>
          TC: <span class="highlight-figure">{{item.today_capacity_active_total}}</span> ML<span style="float:right">LV: <span class="highlight-figure">{{item.today_volume_active_total}}</span> ML</span>
        </h6>
        <i class="icon ion-chevron-right icon-accessory"></i>
        <ion-option-button ng-click="addFavourite('cities', $index, null, null, null)">
          <i class="icon ion-{{platform}}-star"></i>
        </ion-option-button>
      </ion-item>

      <div class="item item-icon-right item-divider" ng-init="expandDD=false" ng-click="expandDD=!expandDD">
        DRAINAGE DIVISIONS
        <i ng-show="expandDD" class="icon ion-chevron-up icon-accessory"></i>
        <i ng-show="!expandDD" class="icon ion-chevron-down icon-accessory"></i>
      </div>
      <ion-item ng-show="expandDD" ion-percentage-bar="{{item.percentage_full_today}}" class="item-remove-animate item-icon-left item-icon-right item-bg" ng-repeat="item in data.drainages" type="item-text-wrap" href="#/tab/storages/drainages/storages/{{$index}}/-1">
        <i class="icon ion-arrow-down-c"></i>
        <h4>
          {{item.title}}<span style="float:right" class="assertive highlight-figure">{{item.percentage_full_today}}%</span>
        </h4>
        <h6>
          TC: <span class="highlight-figure">{{item.today_capacity_active_total}}</span> ML<span style="float:right">LV: <span class="highlight-figure">{{item.today_volume_active_total}}</span> ML</span>
        </h6>
        <i class="icon ion-chevron-right icon-accessory"></i>
        <ion-option-button ng-click="addFavourite('drainages', $index, null, null, null)">
          <i class="icon ion-{{platform}}-star"></i>
        </ion-option-button>
      </ion-item>
    </ion-list>
    <!--<ion-bom-branding></ion-bom-branding>-->
  </ion-content>
</ion-view>
